(self.webpackChunkas34_ecursos=self.webpackChunkas34_ecursos||[]).push([[642],{1642:(e,r,o)=>{"use strict";o.r(r),o.d(r,{LoginModule:()=>w});var t=o(8583),i=o(2305),n=o(3679),a=o(1394),s=o(8002),l=o(7716),c=o(5426),u=o(1028),g=o(6575),m=o(9566),h=o(8295),d=o(9983);function f(e,r){1&e&&(l.TgZ(0,"mat-error"),l._uU(1,"Email \xe9 obrigat\xf3rio."),l.qZA())}function p(e,r){1&e&&(l.TgZ(0,"mat-error"),l._uU(1,"Email invalido."),l.qZA())}function Z(e,r){1&e&&(l.TgZ(0,"mat-error"),l._uU(1,"Email ja existe."),l.qZA())}function v(e,r){1&e&&(l.TgZ(0,"mat-error"),l._uU(1,"Senha \xe9 obrigat\xf3ria."),l.qZA())}function T(e,r){1&e&&(l.TgZ(0,"mat-error"),l._uU(1,"Min\xedmo de 3 caracteres."),l.qZA())}function A(e,r){1&e&&(l.TgZ(0,"mat-error"),l._uU(1,"M\xe1ximo de 30 caracteres."),l.qZA())}const q=function(){return["/cadastro"]},x=[{path:"",component:(()=>{class e{constructor(e,r,o,t,i,n,s){this.auth=e,this.route=r,this.formBuilder=o,this.verificaEmailService=t,this.serviceUsers=i,this.authService=n,this.notifyService=s,this.usuario=new a.b,this.mostrarMenu=!0}ngOnInit(){this.inscricao=this.auth.mostrarMenuEmitter.subscribe(e=>this.mostrarMenu=e),this.formulario=this.formBuilder.group({email:[null,[n.kI.required,n.kI.email]],senha:[null,[n.kI.required,n.kI.minLength(4),n.kI.maxLength(30)]]})}fazerLogin(){this.auth.fazerLogin()}onSubmit(){var e,r;this.formulario.valid?(console.log("rewr"),this.serviceUsers.login(null===(e=this.formulario.get("email"))||void 0===e?void 0:e.value,null===(r=this.formulario.get("senha"))||void 0===r?void 0:r.value).subscribe(e=>{console.log(e),console.log(e.message),e.message?this.showToasterfailed():(localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",e.token_usuario),this.auth.fazerLogin(),this.showToasterSuccess(),this.route.navigate(["/home"]))},e=>{console.log(e),this.showToasterfailed()})):(console.log("Formulario invalido!"),Object.keys(this.formulario.controls).forEach(e=>{console.log("Campos: ",e);const r=this.formulario.get(e);null==r||r.markAsDirty(),null==r||r.markAllAsTouched()}))}validarEmail(e){return this.verificaEmailService.verificaEmail(e.value).pipe((0,s.U)(e=>e?{emailInvalido:!0}:null))}hasError(e,r="required"){const o=this.formulario.get(e);return!!(null==o?void 0:o.touched)&&(null==o?void 0:o.hasError(r))}showToasterSuccess(){console.log("teste"),this.notifyService.showSuccess("Login efetuado com sucesso.","Sucesso")}showToasterfailed(){console.log("teste"),this.notifyService.showError("Algo de errado ocorreu, por favor tente novamente.","Erro!")}}return e.\u0275fac=function(r){return new(r||e)(l.Y36(c.e),l.Y36(i.F0),l.Y36(n.qu),l.Y36(u.L),l.Y36(g.f),l.Y36(c.e),l.Y36(m.c))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-login"]],decls:45,vars:9,consts:[[1,"container-base","redContainer"],[1,"container-text",2,"background-color","transparent","text-align","center","vertical-align","middle"],[1,"container","boxLogin"],[1,"container","headerLogin"],[1,"row","headerLoginSub"],["flex","",1,"col-lg-12","col-md-6","loginStyleText"],["flex","",1,"col-lg-12","col-md-6",2,"margin-top","10px","font-size","25px","font-weight","400"],[1,"containerFormLogin",2,"text-align","center"],[3,"formGroup","ngSubmit"],[1,"row"],["flex","",1,"col-lg-12","col-md-12"],[1,"form-group"],["appearance","fill",1,"example-full-width",2,"font-size","20px"],["id","email","formControlName","email","matInput","","placeholder","nome@email.com","type","text"],[4,"ngIf"],["id","senha","formControlName","senha","matInput","","placeholder","senha","type","password"],[1,"row",2,"height","100px","margin-top","25px","padding-top","15px"],["type","submit",1,"btn","btn-info",2,"font-size","20px","width","160px","border-radius","30px"],[1,"container",2,"text-align","center","height","150px","align-content","center","align-items","center"],[1,"row",2,"padding-top","20px","padding-left","30px","align-items","center","color","rgb(92, 92, 92)"],["flex","",1,"col-lg-6","col-md-6",2,"font-size","15px","font-weight","350"],["flex","",1,"col-lg-6","col-md-6","rgButtonLogin",2,"font-size","25px","font-weight","400"],[3,"routerLink"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"p"),l._uU(7,"Login"),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"p"),l._uU(10,"Bem vindo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",7),l.TgZ(12,"form",8),l.NdJ("ngSubmit",function(){return r.onSubmit()}),l.TgZ(13,"div",9),l.TgZ(14,"div",10),l.TgZ(15,"div",11),l.TgZ(16,"mat-form-field",12),l.TgZ(17,"mat-label"),l._uU(18,"Email"),l.qZA(),l._UZ(19,"input",13),l.YNc(20,f,2,0,"mat-error",14),l.YNc(21,p,2,0,"mat-error",14),l.YNc(22,Z,2,0,"mat-error",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"div",9),l.TgZ(24,"div",10),l.TgZ(25,"div",11),l.TgZ(26,"mat-form-field",12),l.TgZ(27,"mat-label"),l._uU(28,"Senha"),l.qZA(),l._UZ(29,"input",15),l.YNc(30,v,2,0,"mat-error",14),l.YNc(31,T,2,0,"mat-error",14),l.YNc(32,A,2,0,"mat-error",14),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",16),l.TgZ(34,"div",10),l.TgZ(35,"button",17),l._uU(36,"Login"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(37,"div",18),l.TgZ(38,"div",19),l.TgZ(39,"div",20),l.TgZ(40,"p"),l._uU(41,"Esqueci minha senha"),l.qZA(),l.qZA(),l.TgZ(42,"div",21),l.TgZ(43,"p",22),l._uU(44,"Cadastrar-se"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(12),l.Q6J("formGroup",r.formulario),l.xp6(8),l.Q6J("ngIf",r.hasError("email")),l.xp6(1),l.Q6J("ngIf",r.hasError("email","email")),l.xp6(1),l.Q6J("ngIf",r.hasError("email","emailInvalido")),l.xp6(8),l.Q6J("ngIf",r.hasError("senha")),l.xp6(1),l.Q6J("ngIf",r.hasError("senha","minlength")),l.xp6(1),l.Q6J("ngIf",r.hasError("senha","maxlength")),l.xp6(11),l.Q6J("routerLink",l.DdM(8,q)))},directives:[n._Y,n.JL,n.sg,h.KE,h.hX,n.Fj,d.Nt,n.JJ,n.u,t.O5,i.rH,h.TO],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.Bz.forChild(x)],i.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[t.ez,b,d.c,n.u5,n.UX]]}),e})()},1028:(e,r,o)=>{"use strict";o.d(r,{L:()=>l});var t=o(1289),i=o(8002),n=o(3342),a=o(7716),s=o(1841);let l=(()=>{class e{constructor(e){this.http=e}verificaEmail(e){return this.http.get("assets/Dados/verificarEmail.json").pipe((0,t.g)(2e3),(0,i.U)(e=>e.emails),(0,i.U)(r=>r.filter(r=>r.email===e)),(0,n.b)(console.log),(0,i.U)(e=>e.length>0))}}return e.\u0275fac=function(r){return new(r||e)(a.LFG(s.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);